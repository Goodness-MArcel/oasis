/* User-specific admin-style layout CSS
   - Provides consistent desktop/admin look
   - Collapsed/expanded states
   - Mobile off-canvas behavior with overlay
   - Centered icons in collapsed mode
   - Lightweight, focused overrides only
*/

:root{
  --sidebar-width: 200px;
  --sidebar-collapsed: 74px;
  --sidebar-bg: #ffffff;
  --sidebar-border: rgba(15,23,42,0.08);
}

/* DEBUG: temporary visual borders to help diagnose layout during development */
/* .admin-sidebar { outline: 3px dashed magenta !important; }
.admin-sidebar-header { outline: 2px dashed cyan !important; }
.admin-sidebar-nav .nav-link { outline: 1px dashed orange !important; }
.mobile-topbar { outline: 2px dashed lime !important; } */

/* Remove debug outlines quickly by commenting above when done */

/* ---------- Desktop (>=992px) ---------- */
@media (min-width: 992px){
  .admin-shell { display:flex; }

  .admin-sidebar{
    width: var(--sidebar-width);
    background: var(--sidebar-bg);
    border-right: 1px solid var(--sidebar-border);
    padding: 1.25rem 1rem;
    min-height: 100vh;
    position: sticky;
    top: 0;
    align-self: flex-start;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    z-index: 1020;
  }

  .admin-main{ min-height:100vh; }

  .admin-sidebar-header{ display:flex; align-items:center; justify-content:space-between; }

  .admin-sidebar-brand{ display:inline-flex; align-items:center; gap:.5rem; }

  .admin-sidebar-nav .nav-link{
    display:flex; align-items:center; gap:.75rem;
    padding:.45rem .75rem; border-radius:999px; color:#6b7280;
  }
  .admin-sidebar-nav .nav-link i{ width:1.1rem; text-align:center; }
  .admin-sidebar-nav .nav-link.active{ background: rgba(22,163,74,0.08); color:#166534; font-weight:600; }

  .admin-sidebar-footer{ margin-top:auto; padding-top: .75rem; }

  /* Collapsed desktop */
  .admin-shell.admin-shell-collapsed .admin-sidebar{ width:var(--sidebar-collapsed); padding-inline:.75rem; }
  .admin-shell.admin-shell-collapsed .admin-sidebar-brand,
  .admin-shell.admin-shell-collapsed .admin-sidebar-brand-text,
  .admin-shell.admin-shell-collapsed .admin-sidebar-badge{ display:none !important; }
  .admin-shell.admin-shell-collapsed .admin-sidebar-nav span{ display:none !important; }
  .admin-shell.admin-shell-collapsed .admin-sidebar-nav .nav-link{ justify-content:center; padding:.45rem .35rem; }
  .admin-shell.admin-shell-collapsed .admin-sidebar-nav .nav-link i{
    width:1.4rem; display:inline-flex; align-items:center; justify-content:center; margin:0 auto;
  }
  .admin-shell.admin-shell-collapsed .admin-sidebar-logout-text{ display:none !important; }
}

/* ---------- Mobile (<=991.98px) ---------- */
@media (max-width: 991.98px){
  /* Topbar */
  .mobile-topbar{ display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem; background:#fff; position:sticky; top:0; z-index:1200; }
  #navToggle{ width:44px; height:44px; display:inline-flex; align-items:center; justify-content:center; }

  /* Sidebar off-canvas + fade */
  .admin-sidebar{
    position:fixed; top:0; left:0; height:100vh; width:var(--sidebar-width); max-width:85%;
    transform:translateX(-110%); opacity:0; pointer-events:none;
    transition:transform .28s ease-in-out, opacity .2s ease-in-out;
    z-index:1160; background:var(--sidebar-bg); padding:1.25rem 1rem; overflow-y:auto; box-shadow:0 14px 30px rgba(0,0,0,0.06);
  }
  .me{
    /* border: thin solid blue; */
    /* justify-content: center; */
    align-items: center;
    /* height: 500px; */
    padding-inline: 0.58rem;
  }

  .me a[href="/user/dashboard"] , a[ href="/user/profile"] , a[href="/user/settings"] {
    /* border: thick solid green; */
    display: block !important;
  }
  

  .me .admin-sidebar-header{
    /* border: thin solid orange; */
    justify-content: center;
    align-items: center;
    width: 100%;
  }

  /* Open state */
  .admin-sidebar.is-open{
     transform:translateX(0); 
     opacity:1;
      pointer-events:auto; 
      /* border: thick solid red; */
       padding-inline: 0.50px; 
       background-color: #166534;
       
    } 
   

  /* Overlay */
  .mobile-menu-overlay{ display:block; position:fixed; inset:0; background:rgba(0,0,0,0.36); z-index:1140; opacity:0; pointer-events:none; transition:opacity .2s ease-in-out; }
  .mobile-menu-overlay.active{ opacity:1; pointer-events:auto; }

  /* Ensure links stack and stay visible */
  /* .admin-sidebar-nav{ display:flex !important; flex-direction:column !important; overflow:visible !important; } */
  .admin-sidebar-nav .nav-link{ display:flex !important; color:#374151 !important; opacity:1 !important; visibility:visible !important; }
  .admin-sidebar-nav .nav-link i{ display:inline-flex !important; }
  .admin-sidebar-nav .nav-link span{ display:inline !important; }
  .admin-sidebar-nav{ overflow-x: hidden !important; white-space: normal !important; }

  /* Collapsed class shouldn't hide text on mobile */
  .admin-shell.admin-shell-collapsed .admin-sidebar-nav span{ display:inline !important; }
  .admin-shell.admin-shell-collapsed .admin-sidebar-nav .nav-link{ justify-content:flex-start !important; }

  /* Footer & logout button */
  .admin-sidebar-footer .btn{ display:flex; align-items:center; justify-content:center; gap:.5rem; }
}

/* Small screens tweaks */
/* @media (max-width:575.98px){
    .admin-sidebar-nav{
    background-color: #166534;
    }
    
  .admin-sidebar-nav .nav-link{ padding:.45rem .7rem; font-size:.95rem; }
  .admin-sidebar-brand img{ height:24px; }
} */

/* General safety */
.admin-shell.admin-shell-collapsed .admin-sidebar-nav span{ display:none !important; }

/* Prevent horizontal bleed */
/* .admin-sidebar{ overflow-x:hidden; } */
body.sidebar-open{ overflow:hidden; }

/* Mobile force-visible overrides (fixes unintended hides/row layout) */
/* @media (max-width: 991.98px) {
  .mobile-topbar{ display:flex !important; }
  #navToggle{ display:inline-flex !important; }
} */

